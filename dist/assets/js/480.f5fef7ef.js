(window.webpackJsonp=window.webpackJsonp||[]).push([[480],{968:function(e,t,r){"use strict";r.r(t);var s=r(44),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("MenuSchema"),e._v(" "),r("h1",{attrs:{id:"schema-du-format-scdl-relatif-aux-subventions"}},[e._v("Schéma du format SCDL relatif aux subventions")]),e._v(" "),r("ul",[r("li",[e._v('Basé sur la spécification SCDL "Subventions" version 1.1 (non publiée actuellement)\n'),r("ul",[r("li",[r("a",{attrs:{href:"http://www.opendatafrance.net/SCDL_Subventions",target:"",rel:"noopener noreferrer"}},[e._v("version 1.0 publiée")])])])]),e._v(" "),r("li",[e._v("Basé sur "),r("a",{attrs:{href:"https://www.legifrance.gouv.fr/affichTexte.do?cidTexte=JORFTEXT000036040528",target:"",rel:"noopener noreferrer"}},[e._v("Arrêté du 17 novembre 2017 relatif aux conditions de mises à disposition des données essentielles des conventions de subvention")])])]),e._v(" "),r("p",[e._v("Voir aussi :")]),e._v(" "),r("ul",[r("li",[e._v("la "),r("a",{attrs:{href:"https://github.com/etalab/format-subventions",target:"",rel:"noopener noreferrer"}},[e._v('définition du format "subventions" d\'Etalab')])]),e._v(" "),r("li",[e._v("la "),r("a",{attrs:{href:"https://forum.etalab.gouv.fr/t/cadre-juridique-et-technique-de-louverture-des-donnees-de-subventions",target:"",rel:"noopener noreferrer"}},[e._v('page du forum d\'Etalab dédiée au format "subventions"')])])]),e._v(" "),r("p",[e._v("Notes :")]),e._v(" "),r("ul",[r("li",[e._v("les noms des colonnes SCDL ne correspondent pas à ceux de "),r("a",{attrs:{href:"https://www.legifrance.gouv.fr/affichTexte.do?cidTexte=JORFTEXT000036040528",target:"",rel:"noopener noreferrer"}},[e._v("l'arrêté")]),e._v(". Exemple "),r("code",[e._v("ATTRIBUANT_NOM ≠ nomAttribuant")]),e._v(". Cette version de développement du schéma SCDL utilise les noms de colonnes de l'arrêté.")])]),e._v(" "),r("p",[e._v("TODO :")]),e._v(" "),r("ul",[r("li",[e._v("[ ] "),r("code",[e._v("idAttribuant")]),e._v(" : valider la cohérence du code SIRET (cf "),r("a",{attrs:{href:"https://arthurdejong.org/python-stdnum/doc/1.8/stdnum.fr.siret",target:"",rel:"noopener noreferrer"}},[e._v("python-stdnum")]),e._v(")")]),e._v(" "),r("li",[e._v("[ ] "),r("code",[e._v("datesPeriodeVersement")]),e._v(' : valider la cohérence des dates après validation du Schéma, car on a dû utiliser le type "string" pour permettre de valider les intervalles de dates, mais il reste à savoir si ce sont bien des dates')]),e._v(" "),r("li",[e._v("[ ] "),r("code",[e._v("idRAE")]),e._v(" : Trouver comment valider ce numéro")]),e._v(" "),r("li",[e._v("[ ] Explorer les foreign keys pour la cohérence des données pivot")])]),e._v(" "),r("h2",{attrs:{id:"developpement"}},[e._v("Développement")]),e._v(" "),r("p",[e._v("Pour les développeurs, ce schéma peut être testé avec différents fichiers tabulaires en utilisant "),r("a",{attrs:{href:"https://github.com/frictionlessdata/goodtables-py",target:"",rel:"noopener noreferrer"}},[e._v("Goodtables")]),e._v(" comme ceci :")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[e._v("goodtables validate --schema schema.json exemples/exemple_invalide.csv\n")])])]),r("p",[e._v("Ou bien :")]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g localtunnel\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g http-server\nhttp-server -c-1\nlt --port "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v(" --subdomain qualidata\n")])])]),r("p",[e._v("Utiliser "),r("a",{attrs:{href:"http://dev.qualidata.io/?source=https%3A%2F%2Fqualidata.localtunnel.me%2Fexemple_arrete.csv&schema=https%3A%2F%2Fqualidata.localtunnel.me%2Fschema.json",target:"",rel:"noopener noreferrer"}},[e._v("ce permalink")]),e._v(".")])],1)}),[],!1,null,null,null);t.default=a.exports}}]);